<?php
require_once __DIR__ ."/engine/functions.php";

$str='"roleprop": "[{\\\"id\\\":\\\"config\\\",\\\"name\\\":\\\"Admin\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Admin\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Администратор\\\"}}},\\\"children\\\":[{\\\"id\\\":\\\"side_menu\\\",\\\"name\\\":\\\"Side menu\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Side menu\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Боковое меню\\\"}}},\\\"children\\\":[{\\\"id\\\":\\\"59d89bd617d3\\\",\\\"name\\\":\\\"Forms\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-laptop\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Forms\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Формы\\\"}}},\\\"children\\\":[{\\\"id\\\":\\\"59d8e6451308\\\",\\\"name\\\":\\\"Страницы\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/pages/\\\",\\\"target\\\":\\\"\\\"},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5a424ad11878\\\",\\\"name\\\":\\\"News\\\",\\\"data\\\":{\\\"icon\\\":\\\"fa fa-newspaper-o\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/news/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"News\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Новости\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"59d8e3ea0218\\\",\\\"name\\\":\\\"Orders\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/orders/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Orders\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Заказы\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5c3a0b201432\\\",\\\"name\\\":\\\"Quotes\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/quotes/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Quotes\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Заявки\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"59db53e41b2e\\\",\\\"name\\\":\\\"Products\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/products/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Продукция\\\"},\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Products\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5a4249b6104e\\\",\\\"name\\\":\\\"Comments\\\",\\\"data\\\":{\\\"icon\\\":\\\"fa fa-comments-o\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/comments/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Comments\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Коментарии\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"59d89ad318e5\\\",\\\"name\\\":\\\"Catalogs\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-sitemap\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/tree/\\\",\\\"target\\\":\\\".content-box\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Catalogs\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Каталоги\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"59d8e5050143\\\",\\\"name\\\":\\\"Users\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-users\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/users/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Users\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Пользователи\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5bc9bbd70bcc\\\",\\\"name\\\":\\\"ToDo\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-users\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/todo/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"ToDo\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Дела\\\"}}},\\\"children\\\":false,\\\"open\\\":true}],\\\"open\\\":true},{\\\"id\\\":\\\"59d89b53109f\\\",\\\"name\\\":\\\"Business\\\",\\\"data\\\":{\\\"icon\\\":\\\"fa fa-address-card-o\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Business\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Дела\\\"}}},\\\"children\\\":[{\\\"id\\\":\\\"59db3f6703cf\\\",\\\"name\\\":\\\"Чеклист\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/todo/\\\"},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"59db3ee60d35\\\",\\\"name\\\":\\\"Договоры\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/contracts/\\\"},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"59db40d20c56\\\",\\\"name\\\":\\\"Счета\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/bills/\\\"},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"59db3ddf15c8\\\",\\\"name\\\":\\\"Накладные\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/invoices/\\\"},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"59db56460981\\\",\\\"name\\\":\\\"Партнёры\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/partners/\\\"},\\\"children\\\":false,\\\"open\\\":true}],\\\"open\\\":false},{\\\"id\\\":\\\"5baa03f70bb8\\\",\\\"name\\\":\\\"Utilites\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-cube\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Utilites\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Утилиты\\\"}}},\\\"children\\\":[{\\\"id\\\":\\\"5bce51ac05f0\\\",\\\"name\\\":\\\"Backup\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-folder-open-o\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/module/backup/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Backup & Restore\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Резервное копирование\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5bce947b1dd8\\\",\\\"name\\\":\\\"Update\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/module/update/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Update WebBasic\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Обновление WebBasic\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5a884a962532\\\",\\\"name\\\":\\\"Filemanager\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-folder-open-o\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/module/filemanager/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Filemanager\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Файлменеджер\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5baa04a7265c\\\",\\\"name\\\":\\\"Sitemap\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/module/sitemap\\\",\\\"target\\\":\\\".content-box\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Sitemap\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Карта сайта\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5bd39a092378\\\",\\\"name\\\":\\\"Shortcodes\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/module/shortcodes\\\",\\\"target\\\":\\\".content-box\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Shortcodes\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Вставки кода\\\"}}},\\\"children\\\":false,\\\"open\\\":true}],\\\"open\\\":true}],\\\"open\\\":true},{\\\"id\\\":\\\"dashboard\\\",\\\"name\\\":\\\"Dashboard\\\",\\\"data\\\":{\\\"icon\\\":\\\"\\\",\\\"url\\\":\\\"/\\\",\\\"ajax\\\":\\\"\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Dashboard\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Панель управления\\\"}}},\\\"children\\\":[{\\\"id\\\":\\\"5a3c913e0980\\\",\\\"name\\\":\\\"Pages\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-laptop\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/pages/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Pages\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Страницы\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5a42565e01ed\\\",\\\"name\\\":\\\"News\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-newspaper-o\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/news/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"News\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Новости\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5a3c91211c91\\\",\\\"name\\\":\\\"Quotes\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-shopping-cart\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/quotes/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Quotes\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Заявки\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5a41fb7b0fa0\\\",\\\"name\\\":\\\"Products\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-puzzle-piece\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/list/products/\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Products\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Продукция\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5a3c90071857\\\",\\\"name\\\":\\\"Categories\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-sitemap\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/edit/tree/products_category\\\",\\\"target\\\":\\\".ajax-target\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Categories\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Категории\\\"}}},\\\"children\\\":false,\\\"open\\\":true},{\\\"id\\\":\\\"5a423ccd209f\\\",\\\"name\\\":\\\"Settings\\\",\\\"data\\\":{\\\"visible\\\":\\\"on\\\",\\\"icon\\\":\\\"fa fa-gear\\\",\\\"url\\\":\\\"\\\",\\\"ajax\\\":\\\"/form/edit/admin/settings\\\",\\\"target\\\":\\\"\\\",\\\"lang\\\":{\\\"eng\\\":{\\\"id\\\":\\\"eng\\\",\\\"name\\\":\\\"Settings\\\"},\\\"rus\\\":{\\\"id\\\":\\\"rus\\\",\\\"name\\\":\\\"Настройки\\\"}}},\\\"children\\\":false,\\\"open\\\":true}],\\\"open\\\":true}],\\\"open\\\":true}]",';
$str=stripcslashes($str);
echo $str;

$wb=new wbapp();
$dom = $wb->fromFile($_SERVER["DOCUMENT_ROOT"]."/tpl/default.php");
echo count($dom->find(":not(#home-top)"));
die;

